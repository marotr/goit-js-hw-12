import{a as L,i,S}from"./assets/vendor-6e0bf343.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(s){if(s.ep)return;s.ep=!0;const t=a(s);fetch(s.href,t)}})();function g(e){return e.map(({webformatURL:n,tags:a,largeImageURL:o,likes:s,views:t,comments:d,downloads:C})=>` <li class="gallery-item">
        <a class="gallery-link" href="${o}" >
          <img class="gallery-image"
           src="${n}" 
           alt="${a}" 
           width = "360"/>
          <ul class="card-descr">
           <li class="card-element"><span class="label">Likes</span> <p class ="value">${s}</p></li>
            <li class="card-element"><span class="label">Views</span> <p class ="value">${t}</p></li>
            <li class="card-element"><span class="label">Comments</span> <p class ="value">${d}</p></li>
            <li class="card-element"><span class="label">Downloads</span><p class ="value">${C}</p></li></ul>
        </a>
      </li>`).join("")}const v="43193709-9f2e77a8cd9049868dd3fabee";async function y(e,n="1"){const a={key:v,q:e,image_type:"photo",orientation:"horizontal",safesearch:"true",page:n,per_page:15};try{const o=await L.get("https://pixabay.com/api/",{params:a});if(o.status!==200)throw new Error(o.statusText);return o.data}catch(o){throw o}}const f=document.querySelector(".search-form"),p=document.querySelector(".gallery"),x=document.querySelector(".search-btn"),h=document.querySelector(".loader"),r=document.querySelector(".load-more"),c=document.querySelector(".end-message");r.addEventListener("click",k);x.addEventListener("click",w);const H=document.querySelector(".search-form input");H.addEventListener("input",()=>{l=1,p.innerHTML="",r.style.display="none"});f.addEventListener("submit",w);let l=1,u="";c.style.display="none";r.style.display="none";function m(){h.style.display="block"}function b(){h.style.display="none"}function w(e){if(e.preventDefault(),u=document.querySelector(".search-form input").value.trim(),u===""){i.show({message:"Please enter a search query",messageColor:"#fff",backgroundColor:"#ef4040",position:"topCenter",messageSize:"16px",messageLineHeight:"150%",iconColor:"white"});return}m(),p.innerHTML="",r.style.display="none",y(u).then(a=>{if(a.hits.length===0)i.show({message:"Sorry, there are no images matching your search query. Please try again!",messageColor:"#fff",backgroundColor:"#ef4040",position:"topCenter",messageSize:"16px",messageLineHeight:"150%",iconColor:"white"});else{p.innerHTML=g(a.hits);const o={captionDelay:250,captionsData:"alt",captionPosition:"bottom"};new S(".gallery a",o).refresh();const t=Math.ceil(a.totalHits/15);l<t&&(r.style.display="block",c.style.display="none")}a.hits.length<15&&(r.style.display="none",c.style.display="block")}).catch(a=>{p.innerHTML="",i.show({message:"An error occurred while fetching images. Please try again later.",messageColor:"#fff",backgroundColor:"#ef4040",position:"topCenter",messageSize:"16px",messageLineHeight:"150%",iconColor:"white"})}).finally(()=>{b(),f.reset()})}async function k(){m();try{l++;const e=await y(u,l);e&&e.hits&&e.hits.length>0?(p.insertAdjacentHTML("beforeend",g(e.hits)),q(e.totalHits),P()):(r.style.display="none",l===1?i.show({message:"Sorry, there are no images matching your search query. Please try again!",messageColor:"#fff",backgroundColor:"#ef4040",position:"topCenter",messageSize:"16px",messageLineHeight:"150%",iconColor:"white"}):(c.style.display="block",r.style.display="none",i.show({message:"We're sorry, but you've reached the end of search results.",messageColor:"#fff",backgroundColor:"#ef4040",position:"topCenter",messageSize:"16px",messageLineHeight:"150%",iconColor:"white"})))}catch{r.style.display="none",i.show({message:"An error occurred while fetching images. Please try again later.",messageColor:"#fff",backgroundColor:"#ef4040",position:"topCenter",messageSize:"16px",messageLineHeight:"150%",iconColor:"white"})}finally{r.disabled=!1,b()}}function q(e){l*15>=e?(r.style.display="none",c.style.display="block",i.show({message:"You've reached the end of search results.",messageColor:"#fff",backgroundColor:"#ef4040",position:"topCenter",messageSize:"16px",messageLineHeight:"150%",iconColor:"white"})):(r.style.display="block",c.style.display="none")}function P(){const e=document.querySelector(".gallery a");if(e){const n=e.getBoundingClientRect().height;window.scrollBy({top:n*2,behavior:"smooth"})}}
//# sourceMappingURL=commonHelpers.js.map
