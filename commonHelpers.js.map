{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const images = {\n\tmethod: \"GET\"\n};\nexport function createMarkup(arr) {\nreturn arr.map(({ webformatURL, tags, largeImageURL, likes, views, comments, downloads }) => {\n           return ` <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\" >\n          <img class=\"gallery-image\"\n           src=\"${webformatURL}\" \n           alt=\"${tags}\" \n           width = \"360\"/>\n          <ul class=\"card-descr\">\n           <li class=\"card-element\"><span class=\"label\">Likes</span> <p class =\"value\">${likes}</p></li>\n            <li class=\"card-element\"><span class=\"label\">Views</span> <p class =\"value\">${views}</p></li>\n            <li class=\"card-element\"><span class=\"label\">Comments</span> <p class =\"value\">${comments}</p></li>\n            <li class=\"card-element\"><span class=\"label\">Downloads</span><p class =\"value\">${downloads}</p></li></ul>\n        </a>\n      </li>`\n            \n        }).join(\"\");\n}\n\n","\nexport function serviceImage(image) {\n  const BASE_URL = \"https://pixabay.com/api/\";\n  const API_KEY = \"43193709-9f2e77a8cd9049868dd3fabee\"\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: image,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true'\n\n  })\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n  })\n    .catch(error => {\n      \n      throw error\n      \n    });\n}\n\n\n\n\n    \n\n  \n  \n \n\n\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { createMarkup } from \"./js/render-functions\";\nimport { serviceImage } from \"./js/pixabay-api\";\n\n\n\n\nconst searchImage = document.querySelector('.search-form');\nconst galleryList = document.querySelector('.gallery');\nconst button = document.querySelector('button');\nconst loader = document.querySelector('.loader');\n\nbutton.addEventListener(\"click\", handleSearch);\nsearchImage.addEventListener(\"submit\", handleSearch);\n\nfunction handleSearch(evt) {\n  evt.preventDefault();\n  const imageInput = document.querySelector(\".search-form input\");\n  const imageValue = imageInput.value.trim();\n\n  loader.style.display = 'block';\n  galleryList.innerHTML = '';\n\n\n  serviceImage(imageValue)\n    .then(data => { \n      if (data.hits.length === 0) {\n        iziToast.show({\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          messageColor: ' #fff',\n          backgroundColor: '#ef4040',\n          position: 'topCenter',\n          messageSize: '16px',\n          messageLineHeight: '150%',\n          iconColor:'white'\n        });\n      } else {\n          galleryList.innerHTML = createMarkup(data.hits);\n          const lightboxOptions = {\n    captionDelay: 250,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    \n\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', lightboxOptions);\nlightbox.refresh();\n      }\n    })\n      .catch(error => {\n        galleryList.innerHTML = '';\n      iziToast.show({\n        message: \"An error occurred while fetching images. Please try again later.\",\n        messageColor: ' #fff',\n        backgroundColor: '#ef4040',\n        position: 'topCenter',\n        messageSize: '16px',\n        messageLineHeight: '150%',\n        iconColor:'white'\n      });\n    })\n      .finally(() => {\n    \n      loader.style.display = 'none';\n      searchImage.reset();\n    });\n}\n\n\n\n"],"names":["createMarkup","arr","webformatURL","tags","largeImageURL","likes","views","comments","downloads","serviceImage","image","BASE_URL","API_KEY","params","response","error","searchImage","galleryList","button","loader","handleSearch","evt","imageValue","data","iziToast","lightboxOptions","SimpleLightbox"],"mappings":"wvBAGO,SAASA,EAAaC,EAAK,CAClC,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,KAAAC,EAAM,cAAAC,EAAe,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC3D;AAAA,wCACsBJ,CAAa;AAAA;AAAA,kBAEnCF,CAAY;AAAA,kBACZC,CAAI;AAAA;AAAA;AAAA,yFAGmEE,CAAK;AAAA,0FACJC,CAAK;AAAA,6FACFC,CAAQ;AAAA,6FACRC,CAAS;AAAA;AAAA,YAI7F,EAAE,KAAK,EAAE,CAClB,CCnBO,SAASC,EAAaC,EAAO,CAClC,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAEhB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAY,CACnD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAG,EACE,MAAMC,GAAS,CAEd,MAAMA,CAEZ,CAAK,CACL,CCZA,MAAMC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAO,iBAAiB,QAASE,CAAY,EAC7CJ,EAAY,iBAAiB,SAAUI,CAAY,EAEnD,SAASA,EAAaC,EAAK,CACzBA,EAAI,eAAc,EAElB,MAAMC,EADa,SAAS,cAAc,oBAAoB,EAChC,MAAM,KAAI,EAExCH,EAAO,MAAM,QAAU,QACvBF,EAAY,UAAY,GAGxBR,EAAaa,CAAU,EACpB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBC,EAAS,KAAK,CACZ,QAAS,2EACT,aAAc,QACd,gBAAiB,UACjB,SAAU,YACV,YAAa,OACb,kBAAmB,OACnB,UAAU,OACpB,CAAS,MACI,CACHP,EAAY,UAAYjB,EAAauB,EAAK,IAAI,EAC9C,MAAME,EAAkB,CAC9B,aAAc,IACd,aAAc,MACd,gBAAiB,QAGrB,EAEiB,IAAIC,EAAe,aAAcD,CAAe,EACxD,QAAO,CACT,CACP,CAAK,EACE,MAAMV,GAAS,CACdE,EAAY,UAAY,GAC1BO,EAAS,KAAK,CACZ,QAAS,mEACT,aAAc,QACd,gBAAiB,UACjB,SAAU,YACV,YAAa,OACb,kBAAmB,OACnB,UAAU,OAClB,CAAO,CACP,CAAK,EACE,QAAQ,IAAM,CAEfL,EAAO,MAAM,QAAU,OACvBH,EAAY,MAAK,CACvB,CAAK,CACL"}